# ==============================================================================
# WINDOW RULES
# ==============================================================================

# Dwindle Layout
dwindle {
    pseudotile = true
    preserve_split = true
}

# Rofi/Wofi UI fixes
layerrule = blur, rofi
layerrule = ignorezero, rofi
layerrule = blur, waybar
layerrule = blur, swaync-control-center

# Floating windows
windowrulev2 = float, class:^(pavucontrol)$
windowrulev2 = float, class:^(nm-connection-editor)$
windowrulev2 = float, title:^(Picture-in-Picture)$

# Center small utility windows
windowrulev2 = center, class:^(pavucontrol)$

# Opacity overrides for terminals
windowrulev2 = opacity 0.85 0.85, class:^(kitty)$
windowrulev2 = opacity 0.85 0.85, class:^(Alacritty)$

# No gaps when only one window is open (Smart Gaps)
workspace = w, gapsout:0, gapsin:0
windowrulev2 = bordersize 0, floating:0, onworkspace:w
windowrulev2 = rounding 0, floating:0, onworkspace:w